{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/questions.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction QuestionBankComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r1.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(cat_r1.nombre);\n  }\n}\nfunction QuestionBankComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function QuestionBankComponent_div_16_Template_div_click_0_listener() {\n      const question_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.viewQuestion(question_r3.id));\n    });\n    i0.ɵɵelementStart(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\")(4, \"strong\");\n    i0.ɵɵtext(5, \"Categor\\u00EDa:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Nivel:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"strong\");\n    i0.ɵɵtext(13, \"Dificultad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const question_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(question_r3.texto);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", question_r3.categoria == null ? null : question_r3.categoria.nombre, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", question_r3.nivel == null ? null : question_r3.nivel.nombre, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", question_r3.dificultad == null ? null : question_r3.dificultad.nombre, \"\");\n  }\n}\nexport class QuestionBankComponent {\n  questionsService;\n  router;\n  questions = [];\n  categorias = [];\n  filters = {};\n  constructor(questionsService, router) {\n    this.questionsService = questionsService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.loadCategories();\n    this.loadQuestions();\n  }\n  loadCategories() {\n    this.questionsService.getCategories().subscribe(data => {\n      this.categorias = data;\n    });\n  }\n  loadQuestions() {\n    this.questionsService.getQuestions(this.filters).subscribe(response => {\n      this.questions = response.data || [];\n    });\n  }\n  viewQuestion(id) {\n    this.router.navigate(['/questions', id]);\n  }\n  static ɵfac = function QuestionBankComponent_Factory(t) {\n    return new (t || QuestionBankComponent)(i0.ɵɵdirectiveInject(i1.QuestionsService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: QuestionBankComponent,\n    selectors: [[\"app-question-bank\"]],\n    decls: 17,\n    vars: 3,\n    consts: [[1, \"container\"], [1, \"filters\", \"card\"], [1, \"filter-group\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"questions-list\"], [\"class\", \"card question-item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"card\", \"question-item\", 3, \"click\"]],\n    template: function QuestionBankComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Banco de Preguntas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"h3\");\n        i0.ɵɵtext(5, \"Filtros\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\");\n        i0.ɵɵtext(8, \"Categor\\u00EDa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"select\", 3);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionBankComponent_Template_select_ngModelChange_9_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.filters.categoria_id, $event) || (ctx.filters.categoria_id = $event);\n          return $event;\n        });\n        i0.ɵɵelementStart(10, \"option\", 4);\n        i0.ɵɵtext(11, \"Todas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, QuestionBankComponent_option_12_Template, 2, 2, \"option\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function QuestionBankComponent_Template_button_click_13_listener() {\n          return ctx.loadQuestions();\n        });\n        i0.ɵɵtext(14, \"Filtrar\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 7);\n        i0.ɵɵtemplate(16, QuestionBankComponent_div_16_Template, 15, 4, \"div\", 8);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filters.categoria_id);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categorias);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.questions);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","cat_r1","id","ɵɵadvance","ɵɵtextInterpolate","nombre","ɵɵlistener","QuestionBankComponent_div_16_Template_div_click_0_listener","question_r3","ɵɵrestoreView","_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","viewQuestion","texto","ɵɵtextInterpolate1","categoria","nivel","dificultad","QuestionBankComponent","questionsService","router","questions","categorias","filters","constructor","ngOnInit","loadCategories","loadQuestions","getCategories","subscribe","data","getQuestions","response","navigate","ɵɵdirectiveInject","i1","QuestionsService","i2","Router","selectors","decls","vars","consts","template","QuestionBankComponent_Template","rf","ctx","ɵɵtwoWayListener","QuestionBankComponent_Template_select_ngModelChange_9_listener","$event","ɵɵtwoWayBindingSet","categoria_id","ɵɵtemplate","QuestionBankComponent_option_12_Template","QuestionBankComponent_Template_button_click_13_listener","QuestionBankComponent_div_16_Template","ɵɵtwoWayProperty"],"sources":["/app/src/app/modules/question-bank/components/question-bank/question-bank.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { QuestionsService } from '../../services/questions.service';\n\n@Component({\n  selector: 'app-question-bank',\n  template: `\n    <div class=\"container\">\n      <h1>Banco de Preguntas</h1>\n      <div class=\"filters card\">\n        <h3>Filtros</h3>\n        <div class=\"filter-group\">\n          <label>Categoría</label>\n          <select [(ngModel)]=\"filters.categoria_id\">\n            <option value=\"\">Todas</option>\n            <option *ngFor=\"let cat of categorias\" [value]=\"cat.id\">{{ cat.nombre }}</option>\n          </select>\n        </div>\n        <button class=\"btn btn-primary\" (click)=\"loadQuestions()\">Filtrar</button>\n      </div>\n      <div class=\"questions-list\">\n        <div *ngFor=\"let question of questions\" class=\"card question-item\" (click)=\"viewQuestion(question.id)\">\n          <h3>{{ question.texto }}</h3>\n          <p><strong>Categoría:</strong> {{ question.categoria?.nombre }}</p>\n          <p><strong>Nivel:</strong> {{ question.nivel?.nombre }}</p>\n          <p><strong>Dificultad:</strong> {{ question.dificultad?.nombre }}</p>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class QuestionBankComponent implements OnInit {\n  questions: any[] = [];\n  categorias: any[] = [];\n  filters: any = {};\n\n  constructor(private questionsService: QuestionsService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadCategories();\n    this.loadQuestions();\n  }\n\n  loadCategories() {\n    this.questionsService.getCategories().subscribe((data: any) => {\n      this.categorias = data;\n    });\n  }\n\n  loadQuestions() {\n    this.questionsService.getQuestions(this.filters).subscribe((response: any) => {\n      this.questions = response.data || [];\n    });\n  }\n\n  viewQuestion(id: number) {\n    this.router.navigate(['/questions', id]);\n  }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}