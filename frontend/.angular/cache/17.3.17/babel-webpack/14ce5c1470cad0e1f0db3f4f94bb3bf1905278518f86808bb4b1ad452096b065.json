{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/exam.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ExamStartComponent_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r1.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(cat_r1.nombre);\n  }\n}\nexport class ExamStartComponent {\n  examService;\n  router;\n  numPreguntas = 20;\n  categoriaId = '';\n  categorias = [];\n  loading = false;\n  constructor(examService, router) {\n    this.examService = examService;\n    this.router = router;\n  }\n  startExam() {\n    this.loading = true;\n    const data = {\n      num_preguntas: this.numPreguntas\n    };\n    if (this.categoriaId) data.categoria_id = +this.categoriaId;\n    this.examService.startExam(data).subscribe({\n      next: response => {\n        this.router.navigate(['/exam', response.examen.id]);\n      },\n      error: err => {\n        alert(err.error?.message || 'Error al iniciar examen');\n        this.loading = false;\n      }\n    });\n  }\n  static ɵfac = function ExamStartComponent_Factory(t) {\n    return new (t || ExamStartComponent)(i0.ɵɵdirectiveInject(i1.ExamService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ExamStartComponent,\n    selectors: [[\"app-exam-start\"]],\n    decls: 26,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"card\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"name\", \"numPreguntas\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"10\"], [\"value\", \"20\", \"selected\", \"\"], [\"value\", \"30\"], [\"value\", \"50\"], [\"name\", \"categoriaId\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [3, \"value\"]],\n    template: function ExamStartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Iniciar Examen\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function ExamStartComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.startExam();\n        });\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\");\n        i0.ɵɵtext(7, \"N\\u00FAmero de preguntas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"select\", 4);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ExamStartComponent_Template_select_ngModelChange_8_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.numPreguntas, $event) || (ctx.numPreguntas = $event);\n          return $event;\n        });\n        i0.ɵɵelementStart(9, \"option\", 5);\n        i0.ɵɵtext(10, \"10\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"option\", 6);\n        i0.ɵɵtext(12, \"20\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"option\", 7);\n        i0.ɵɵtext(14, \"30\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"option\", 8);\n        i0.ɵɵtext(16, \"50\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\");\n        i0.ɵɵtext(19, \"Categor\\u00EDa (opcional)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"select\", 9);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function ExamStartComponent_Template_select_ngModelChange_20_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.categoriaId, $event) || (ctx.categoriaId = $event);\n          return $event;\n        });\n        i0.ɵɵelementStart(21, \"option\", 10);\n        i0.ɵɵtext(22, \"Todas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, ExamStartComponent_option_23_Template, 2, 2, \"option\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"button\", 12);\n        i0.ɵɵtext(25);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.numPreguntas);\n        i0.ɵɵadvance(12);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.categoriaId);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categorias);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Iniciando...\" : \"Iniciar Examen\", \" \");\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","cat_r1","id","ɵɵadvance","ɵɵtextInterpolate","nombre","ExamStartComponent","examService","router","numPreguntas","categoriaId","categorias","loading","constructor","startExam","data","num_preguntas","categoria_id","subscribe","next","response","navigate","examen","error","err","alert","message","ɵɵdirectiveInject","i1","ExamService","i2","Router","selectors","decls","vars","consts","template","ExamStartComponent_Template","rf","ctx","ɵɵlistener","ExamStartComponent_Template_form_ngSubmit_4_listener","ɵɵtwoWayListener","ExamStartComponent_Template_select_ngModelChange_8_listener","$event","ɵɵtwoWayBindingSet","ExamStartComponent_Template_select_ngModelChange_20_listener","ɵɵtemplate","ExamStartComponent_option_23_Template","ɵɵtwoWayProperty","ɵɵtextInterpolate1"],"sources":["/app/src/app/modules/exam/components/exam-start/exam-start.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ExamService } from '../../services/exam.service';\n\n@Component({\n  selector: 'app-exam-start',\n  template: `\n    <div class=\"container\">\n      <h1>Iniciar Examen</h1>\n      <div class=\"card\">\n        <form (ngSubmit)=\"startExam()\">\n          <div class=\"form-group\">\n            <label>Número de preguntas</label>\n            <select [(ngModel)]=\"numPreguntas\" name=\"numPreguntas\">\n              <option value=\"10\">10</option>\n              <option value=\"20\" selected>20</option>\n              <option value=\"30\">30</option>\n              <option value=\"50\">50</option>\n            </select>\n          </div>\n          <div class=\"form-group\">\n            <label>Categoría (opcional)</label>\n            <select [(ngModel)]=\"categoriaId\" name=\"categoriaId\">\n              <option value=\"\">Todas</option>\n              <option *ngFor=\"let cat of categorias\" [value]=\"cat.id\">{{ cat.nombre }}</option>\n            </select>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loading\">\n            {{ loading ? 'Iniciando...' : 'Iniciar Examen' }}\n          </button>\n        </form>\n      </div>\n    </div>\n  `,\n})\nexport class ExamStartComponent {\n  numPreguntas = 20;\n  categoriaId = '';\n  categorias: any[] = [];\n  loading = false;\n\n  constructor(private examService: ExamService, private router: Router) {}\n\n  startExam() {\n    this.loading = true;\n    const data: any = { num_preguntas: this.numPreguntas };\n    if (this.categoriaId) data.categoria_id = +this.categoriaId;\n\n    this.examService.startExam(data).subscribe({\n      next: (response) => {\n        this.router.navigate(['/exam', response.examen.id]);\n      },\n      error: (err) => {\n        alert(err.error?.message || 'Error al iniciar examen');\n        this.loading = false;\n      },\n    });\n  }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}